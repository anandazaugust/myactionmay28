name: myflow-4
on: 
  workflow_dispatch:
   inputs: 
      choose-env: 
       description: test
       required: true
       type: choice
       default: dev
       options:
        - dev
        - prod
        - uat

permissions:
 id-token: write

jobs: 
  devuatb: 
   runs-on: ubuntu-latest
   steps:
     - name: uat job
       if: ${{inputs.choose-env == 'uat'}}
       run: echo "this is uat"
 
     - name: dev job
       if: ${{inputs.choose-env == 'dev'}}
       run: echo "this is dev"

     - name: Azure login
       uses: azure/login@v2
       with:
          client-id: ${{ secrets.client_id_azure}}
          tenant-id: "17a09c66-f406-4897-8b24-51f5313623dc"
          subscription-id: "6e54aa79-9b0b-40ed-ae27-91fdffa0a565"